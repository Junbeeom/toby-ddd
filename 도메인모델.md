# Splearn 도메인 모델

## 도메인 모델 만들기

### 회원 (Member)
_Entity_
#### 속성
- `id`: `Long`
- `email`: 이메일 - ID
- `nickname`: 닉네임
- `passwordHash`: 비밀번호 해시
- `status`: `MemberStatus` 회원 상태

#### 행위
- `static register()` : 회원 등록: email, nickname, passwordHash, password, passwordEncoder
- `activate()` : 등록을 완료시킨다
- `deactivate()` : 탈퇴시킨다
- `verifyPassword()` : 비밀번호를 검증한다.
- `changeNickname()` : 
- `chacngePassword()` : 
#### 규칙
- 회원 생성후 상태는 등록 대기
- 일정조건을 만족하면 등록 완료가 된다
- 등록 대기 상태에서만 등록 완료가 될 수 있다
- 등록 완료 상태에서는 탈퇴할 수 있다
- 회원의 비밀번호는 해시를 만들어서 저장한다.

### 회원 상태(MemberStatus)
_Enum_
#### 상수
- `PENDING` : 등록 대기
- `ACTIVE` : 등록 완료
- `DEACTIVATED` : 탈퇴

### DuplicateEmailException
_Exception_

### 비밀번호 인코더(PasswordEncoder) :
_Domain Service_
- 특정 entity안에 넣기 애매하거나, 이렇게 상세한 구현은 도메인안에 담아 둘 필요 없는것.
- 어떤 일을 한다 정도만 인터페이스에 정의해두면 된다. 구현은 도메인 밖에서 한다. 기술을 담당하는 곳에서 구현해서 사용한다.
- 생성자 주입으로 패스워드를 넣는것 말고, 정적 팩토리 메서드 패턴(스텍틱으로 만들고, 이름을 부여할 수 있다. 부가적인 작업을 통해 필요한 경우는
- 오브젝트를 만들지 않고 캐시에서 끄내오거나 상속 구조를 통해서 서브클래스에서 인스턴스를 반환. )
#### 행위
- `encode()` : 비밀번호 암호화하기
- `matches()` : 비밀번호가 일치하는지 확인